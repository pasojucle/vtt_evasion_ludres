{% extends 'base.html.twig' %}

{% block title %}Inscription Ã  une sortie{% endblock %}

{% block background %}
    {% include 'background/backgrounds.html.twig' with {'alt': 'Inscription'} %}
{% endblock %}

{% block body %}
    <div class="wrapper wrapper-medium-width">
        <div class="wrapper-title">
            <h1>Inscription</h1>
        </div>
        <div class="wrapper-body">
            <div class="block background-ligth">
            {{ form_start(form) }}
                {% set bikeRide = bikeRide %}
                <div class="block-title bike-ride-date active">
                    <h2>{{ bikeRide.period }}</h2>
                </div>
                <div class="block-body">
                    <h3>{{ bikeRide.title }}</h3>
                    {% if bikeRide.minAge is not null %}
                        <p class='info'>A partir de {{ bikeRide.minAge }} ans</p>
                    {% endif %}
                    <p>{{ bikeRide.content |raw }}</p>
                    <div class="form-group">
                        {% if form.cluster is defined %}
                            {% set field = form.cluster %}
                        {% endif %}
                        {% if form.availability is defined %}
                            {% set field = form.availability %}
                        {% endif %}
                        {% if field is defined %}
                            {% for  child in field.children %}
                                <div class="inputGroup {{ child.vars.value == field.vars.value ? 'check' : 'ballot' }}">
                                    {{ form_widget(child)}}
                                    {{ form_label(child)}}
                                </div>
                            {% endfor %}
                        {% endif %}
                    </div>
                    {% if form.availability is defined %}
                        {% include('session/registered_list_by_type.html.twig') %}
                    {% endif %}
                    {% if bikeRide.bikeRideType.isShowMemberList  %}
                        {% include('session/registered_list.html.twig') %}
                    {% endif %}
                    {{ form_errors(form)}}
                    {{ form_row(form.user)}}
                </div>
                <div class="block-footer">
                    {% if form.submit is defined %}
                        {{ form_row(form.submit)}}
                    {% else %}
                        <a href="{{ path('user_bike_rides') }}" class="btn btn-primary float-right">Voir toutes mes sorties</a>
                    {% endif %}
                </div>
            {{ form_end(form) }}
            </div>
        </div>
    </div>
{% endblock %}
