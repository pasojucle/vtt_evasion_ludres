{% extends 'base.html.twig' %}

{% set title = (content is null) ? 'Ajouter un contenu' : 'Modifier un contenu' %}

{% block title %}{{ title }}{% endblock %}

{% block body %}
 <div class="wrapper">
    <div class="padding-10">
        {{ form_start(form) }}
        <div class="block">
            <div class="block-title">
                <h2>{{ title }}</h2>
                {% set route = (content is not null) ? content.route : 'home' %}
                <span class="tools">
                    {% if route == 'home' %}
                        {% set isFlash = (content is not null) ? content.isFlash|number_format : 0 %}
                        <a href="{{ path('admin_home_contents', {'route': route, 'isFlash': isFlash}) }}" class="btn btn-secondary btn-ico" title="Retour à la gestion de la page d'accueil"><i class="fas fa-chevron-left"></i></a>
                    {% else %}
                        <a href="{{ path('admin_contents', {'route': route}) }}" class="btn btn-secondary btn-ico" title="Retour à la liste des contenus"><i class="fas fa-chevron-left"></i></a>
                    {% endif %}
                </span>
            </div> 
            <div class="block-body">
                {% if form.title is defined %}
                    <div class="form-group">
                        {{ form_row(form.title) }}
                    </div>
                {% endif %}
                <div class="form-group">
                    {{ form_row(form.content) }}
                </div>
                {% if form.startAt is defined and  form.endAt is defined and form.isFlash is defined %}
                    <div class="form-group">
                        {{ form_row(form.startAt) }}
                        {{ form_row(form.endAt) }}
                    </div>
                    <div class="form-group">
                        {{ form_row(form.isFlash) }}
                    </div>
                {% endif %}
                {{ form_row(form.route) }}
            </div>
            <div class="block-footer">
                {{ form_widget(form.save) }}
            </div>
        </div>
        {{ form_end(form) }}
    </div>
</div>
{% endblock %}
