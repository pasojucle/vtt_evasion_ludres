/*! For license information please see 885.eb27ebad.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[885],{9139:(t,e,n)=>{"use strict";n(1058),n(4916),n(5306),n(9554),n(1539),n(4747),n(9826),n(8309),n(2222),n(8674),n(7852),n(3710),n(4678),n(7042),n(6647),n(9714),n(1038),n(8783),n(7601),n(2526),n(1817),n(2165),n(6992),n(3948),n(9753),n(1703);var r=n(1302);n(7287),n(9653),n(7327),n(7658),n(4723),n(9600),n(4603),n(8450),n(8386),n(6649),n(6078),n(9070),n(2443),n(3680),n(3706),n(2703),n(8011),n(489),n(8304),n(5069);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function o(){o=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var a=e&&e.prototype instanceof b?e:b,o=Object.create(a.prototype),c=new N(r||[]);return i(o,"_invoke",{value:_(t,n,c)}),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var m="suspendedStart",p="suspendedYield",g="executing",v="completed",y={};function b(){}function w(){}function $(){}var E={};d(E,s,(function(){return this}));var S=Object.getPrototypeOf,x=S&&S(S(D([])));x&&x!==n&&r.call(x,s)&&(E=x);var k=$.prototype=b.prototype=Object.create(E);function L(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(o,i,c,s){var l=h(t[o],t,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==a(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,c,s)}),(function(t){n("throw",t,c,s)})):e.resolve(d).then((function(t){u.value=t,c(u)}),(function(t){return n("throw",t,c,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(t,r){function a(){return new e((function(e,a){n(t,r,e,a)}))}return o=o?o.then(a,a):a()}})}function _(e,n,r){var a=m;return function(o,i){if(a===g)throw new Error("Generator is already running");if(a===v){if("throw"===o)throw i;return{value:t,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var s=j(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=g;var l=h(e,n,r);if("normal"===l.type){if(a=r.done?v:p,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a=v,r.method="throw",r.arg=l.arg)}}}function j(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(a,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(a(e)+" is not iterable")}return w.prototype=$,i(k,"constructor",{value:$,configurable:!0}),i($,"constructor",{value:w,configurable:!0}),w.displayName=d($,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,$):(t.__proto__=$,d(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(C.prototype),d(C.prototype,l,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new C(f(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(k),d(k,u,"Generator"),d(k,s,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return c.type="throw",c.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;F(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function i(t,e,n,r,a,o,i){try{var c=t[o](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,a)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function c(t){i(o,r,a,c,s,"next",t)}function s(t){i(o,r,a,c,s,"throw",t)}c(void 0)}))}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function u(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function d(t,e,n){return(e=f(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}n(5666).async;var h,m=function(){function t(e){var n=this;s(this,t),d(this,"formData",void 0),d(this,"fields",[]),d(this,"dynamicFields",[]),d(this,"fieldBlurred",void 0),d(this,"validate",c(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0<n.fields.length)){t.next=6;break}return n.formData=new FormData,e=n.fields.findLastIndex((function(t){return!t.isEmpty()})),n.fields.forEach((function(t,r){n.addData(t,r<=e)})),t.next=6,n.fetchData().then((function(){n.disabledSubmit()}));case 6:case"end":return t.stop()}}),t)})))),d(this,"addData",(function(t,e){(n.formData.append("validator[".concat(t.id,"][constraint]"),t.constraint),n.formData.append("validator[".concat(t.id,"][required]"),t.isRequired()),n.formData.append("validator[".concat(t.id,"][filled]"),Number(e)),t.multipleFields)?n.getFieldsByContraint(t).forEach((function(e){n.formData.append("validator[".concat(t.id,"][value][").concat(e.baseName.shortName,"]"),e.getValue())})):n.formData.append("validator[".concat(t.id,"][value]"),t.getValue())})),d(this,"fetchData",c(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(Routing.generate("form_validator"),{method:"POST",body:n.formData}).then((function(t){return t.json()})).then((function(t){t.constraintsValidator.forEach((function(t){var e=n.fields.find((function(e){return e.id===t.id}));e&&t.filled&&e.setMessageError(t.html),(e=n.fields.find((function(e){return e.id===t.id}))).setStatus(t.status),e.refreshDynamicField()}))}));case 2:case"end":return t.stop()}}),t)})))),d(this,"getFieldsByContraint",(function(t){return n.fields.filter((function(e){return t.constraint===e.constraint&&t.baseName.baseName===e.baseName.baseName}))})),d(this,"disabledSubmit",(function(){var t=n.fields.filter((function(t){return"ALERT_WARNING"===t.status||t.isRequired()&&!t.getValue()}));console.log("warnings",t),n.submit.disabled=0<t.length})),this.element=e,this.submit=document.querySelector('button[type="submit"]'),this.addFields(e),this.validate()}return u(t,[{key:"addFields",value:function(t){var e=this;Array.from(t.elements).forEach((function(t){void 0!==t.dataset.constraint&&e.fields.push(new p(e,t))}))}}]),t}(),p=function(){function t(e,n){var r=this;s(this,t),d(this,"status",void 0),d(this,"dynamicFieldId",void 0),d(this,"relatedFieldId",void 0),d(this,"addRelations",(function(t){if(t){var e=r.form.element.querySelector("#".concat(t," [data-constraint]"));r.dynamicFieldId=g(e.id).shortName,e.relatedFieldId=r.id}})),d(this,"formatPhoneNumber",(function(t){if(t.value){var e=t.value.replace(/\s/g,"").match(/.{1,2}/g);t.value=e.join(" ")}})),d(this,"getFieldEl",(function(){return document.getElementById(r.id)})),d(this,"getErrorEl",(function(){for(var t=r.getFieldEl();t;){if("UL"===t.tagName&&t.classList.contains("errors"))return t;t=t.previousElementSibling}})),d(this,"getValue",(function(){return r.getFieldEl().value})),d(this,"isEmpty",(function(){return 0===r.getFieldEl().value.length})),d(this,"isRequired",(function(){return Number(r.getFieldEl().required)})),d(this,"handleChange",(function(t){r.value=t.target.value,r.form.validate()})),d(this,"setMessageError",(function(t){var e=document.createRange().createContextualFragment(t).firstChild,n=r.getErrorEl();n?!0===r.multipleFields?r.getFieldsByContraint(field.constraint).forEach((function(t){t.getErrorEl().replaceWith(e)})):n.replaceWith(e):r.getFieldEl().insertAdjacentElement("beforebegin",e)})),d(this,"setStatus",(function(t){r.status=t;var e=r.getFieldEl();"SUCCESS"===t?(e.parentElement.classList.remove("alert-warning"),e.parentElement.classList.add("success")):"ALERT_WARNING"===t?(e.parentElement.classList.add("alert-warning"),e.parentElement.classList.remove("success"),r.errorRoute&&r.callErrorRoute()):e.parentElement.classList.remove("alert-warning","success")})),d(this,"refreshDynamicField",(function(){if(r.dynamicFieldId){var t=r.form.fields.find((function(t){return t.id===r.dynamicFieldId}));if(t.getFieldEl().addEventListener("change",t.handleChange),"ALERT_WARNING"===r.status){t.getFieldEl().value=null;var e=t.getErrorEl();e&&e.remove()}}})),d(this,"callErrorRoute",(function(){var t={};r.form.fields.filter((function(t){return t.constraint===r.constraint})).forEach((function(e){t[e.baseName.shortName]=e.getValue()}));var e=document.createElement("A");e.href=encodeURI(Routing.generate(r.errorRoute,t)),e.dataset.toggle="modal",e.dataset.type="danger",r.form.element.append(e),e.click()})),this.form=e,this.id=n.id,this.name=n.name,this.baseName=g(n.name),this.constraint=n.dataset.constraint,this.multipleFields=n.dataset.multipleFields,this.isPhoneNumber=n.classList.contains("phone-number"),this.errorRoute=n.dataset.errorRoute,this.addRelations(n.dataset.modifier),this.addEventListener()}return u(t,[{key:"addEventListener",value:function(){var t=this;"birthDate"===this.baseName.shortName?$(document).on("change",'[data-constraint="app-BirthDate"]',(function(e){console.log("birthDate"),t.handleChange(e)})):"birthCommune"===this.baseName.shortName?$(document).on("change",".select2entity",(function(e){t.handleChange(e)})):this.getFieldEl().addEventListener("blur",this.handleChange),this.getFieldEl().addEventListener("focus",this.handleChange),this.isPhoneNumber&&(this.formatPhoneNumber(this.getFieldEl()),this.getFieldEl().addEventListener("keydown",(function(e){t.formatPhoneNumber(e.target)})))}}]),t}(),g=function(t){var e=new RegExp(/^([0-9A-Za-z\[\]-]+)\[([0-9A-Za-z-]+)\]$/,"i"),n=t.match(e);return null!==n?{baseName:n[1],shortName:n[2]}:{baseName:t,shortName:t}};function v(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t){t.preventDefault();var e=$(this).closest("form"),n=e.find("#user_search_user").val(),r=Routing.generate("admin_tool_confirm_delete_user",{user:n}),a=$('<a class="modal-trigger" href="'+r+'" data-toggle="modal" data-type="danger"></a>');e.append(a),console.log("anchor",a),a.click()}document.addEventListener("DOMContentLoaded",(function(t){if($("ul.StepProgress").length>0){var e=parseInt($("ul.StepProgress").css("margin-top").replace("px","")),n=$("ul.StepProgress").offset().top-100,a=e;$(window).scroll((function(){a=$(window).scrollTop()>=n?$(window).scrollTop()-200:e,$("ul.StepProgress").css("margin-top",a+"px")}))}$(window).scroll((function(){$(window).scrollTop()>150?($("nav:not(.paginator)").addClass("fixed"),$("nav:not(.paginator) img").removeClass("hidden")):($("nav:not(.paginator)").removeClass("fixed"),$("nav:not(.paginator) img").addClass("hidden"))})),$(".sortable").length>0&&x(),$(document).on("change",".filters .customSelect2, .filters select, .filters .btn",E),$(document).on("click",".nav-bar .btn",S),$(document).on("change",".form-modifier",k),$(document).on("click","button.form-modifier",k),$(document).on("click",".admin-session-present",C),$(document).on("click",".orderline-quantity, .orderline-remove",_),$(document).on("click",".cluster-complete",L),$(document).on("click",".order-status, .delete-error",j),$(".select2entity.submit-asynchronous").on("change",A),$(document).on("click",'*[data-action="toggle-down"]',F),window.matchMedia("(min-width: 800px)").matches&&($(document).on("mouseenter",".block-flash .block-title, .block-flash .block-body",D),$(document).on("mouseleave",".block-flash .block-title, .block-flash .block-body",N)),R(),document.querySelectorAll(".collection_container .form-group-collection:not(.not-deleted)").forEach((function(t){$(t).find("input:disabled").length<1&&O(t)})),document.querySelectorAll("object.sizing").forEach((function(t){return function(t){var e=t.parentNode,n=getComputedStyle(e),r=e.clientWidth-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight);t.width=r,t.height=e.dataset.ratio*r}(t)})),$(".customSelect2").length>0&&$(".customSelect2").select2(),$(document).on("customSelect2:open",(function(t){var e=t.target.id;document.querySelector('.select2-search__field[aria-controls="customSelect2-'+e+'-results"]').focus()})),$(document).on("click","#user_search_submit",b),document.querySelector("select#bike_ride_bikeRideType")&&document.querySelector("select#bike_ride_bikeRideType").addEventListener("change",I),document.querySelectorAll(".check-toggle").forEach((function(t){t.addEventListener("change",r.u),(0,r.i)(t)}));var o=document.querySelector("form");o&&(h=new m(o)),document.querySelectorAll(".identity-other-address").forEach((function(t){t.addEventListener("change",w)}))}));var w=function(t){var e=document.getElementById(t.target.dataset.modifier);console.log("container",t.target.dataset.modifier,e),e.querySelectorAll(".address-group").forEach((function(t){t.classList.toggle("hidden")}));var n=e.querySelectorAll(".address-group input, .address-group select");t.target.checked?n.forEach((function(t){console.log("element",t),t.required=!0})):n.forEach((function(t){t.required=!1,t.value=""})),h.validate()};function E(){$(this).closest("form").submit()}function S(t){t.preventDefault(),$("nav").toggleClass("nav-active"),$(".nav-bar .btn").toggleClass("nav-hide"),$("nav").hasClass("nav-active")?$("main").css("height",$("nav").height()):$("main").css("height","unset"),$(".block-body.down, .dropdown-toggle.down").each((function(){$(this).removeClass("down").addClass("up")})),$(".fa-angle-up").each((function(){$(this).removeClass("fa-angle-up").addClass("fa-angle-down")}))}function x(){$("ul.sortable").sortable({connectWith:".connectedSortable",helper:"clone",cursor:"move",zIndex:99999,items:"> li.ui-state-default",over:function(t,e){e.item.addClass("sortable-over")},start:function(t,e){e.item.data("old-order",e.item.index()),e.item.addClass("sortable-over")},update:function(t,e){!function(t){var e=t.data("id"),n=t.index(),r=$(t).closest("ul.sortable"),a={};a[r.data("parameter")]=e;var o=Routing.generate(r.data("route"),a),i={newOrder:n};$.ajax({url:o,type:"POST",data:i,success:function(t){t&&(r.replaceWith($(t).find('ul.sortable[data-target="'+r.data("target")+'"]')),x())}})}(e.item)}})}function k(t){t.preventDefault();var e,n=t.target.closest("form"),r=t.target.dataset.modifier,a=t.target.dataset.addToFetch,o=new FormData(n,t.submitter),i=v(o);try{for(i.s();!(e=i.n()).done;){var c=e.value;c[0].endsWith("[_token]")&&o.set(c[0],"")}}catch(t){i.e(t)}finally{i.f()}"button"===t.target.type&&o.append(t.target.name,1),void 0!==a&&o.append("".concat(n.name,"[").concat(a,"]"),t.target.dataset[a]);var s=n.getAttribute("action")?n.getAttribute("action"):window.location.href;fetch(s,{method:n.getAttribute("method"),body:o}).then((function(t){return t.text()})).then((function(t){var e=document.createRange().createContextualFragment(t),n=document.getElementById(r);console.log("htmlElement",e.getElementById(r)),n.replaceWith(e.getElementById(r)),$(".select2entity").select2entity(),$(".customSelect2").select2(),$(".js-datepicker").datepicker({format:"yyyy-mm-dd hh:ii"}),R(),n.querySelectorAll(".form-modifier").forEach((function(t){t.addEventListener("change",k)}))}))}function L(t){t.preventDefault();var e={};e.cluster=$(this).data("cluster-id");var n=Routing.generate("admin_cluster_complete",e);$.ajax({url:n,success:function(t){$("#sessions_container").replaceWith($(t).find("#sessions_container")),0<$("a#cluster_export_"+e.cluster).length&&$("a#cluster_export_"+e.cluster)[0].click()}})}function C(t){t.preventDefault(),$.ajax({url:$(this).attr("href"),success:function(t){$("#sessions_container").replaceWith($(t).find("#sessions_container"))}})}function _(t){t.preventDefault();var e=$(this).closest("form"),n={};n[$(this).attr("name")]=$(this).val(),n[$(this).parent().data("lineName")]=$(this).parent().data("lineId"),$.ajax({url:e.attr("action"),type:e.attr("method"),data:n,success:function(t){$("#order").replaceWith($(t).find("#order"))}})}function j(t){t.preventDefault();var e=$(this).attr("href"),n=["#"+$(this).closest("ul").attr("id"),".wrapper-title .badge.badge-info","nav.paginator.margin-top","nav.paginator.margin-bottom","nav.paginator.margin-both"];$.ajax({url:e,success:function(t){n.forEach((function(e){$(e)&&$(e).replaceWith($(t).find(e))}))}})}function A(t){t.preventDefault(),console.log("submitAsynchronous");var e=$(this).closest("form"),n='form[name="'+e.attr("name")+'"]';({})[$(this).attr("name")]=$(this).val(),$(".select2entity.submit-asynchronous").off("change",A),$.ajax({url:e.attr("action"),type:e.attr("method"),data:e.serialize(),success:function(t){$(n).replaceWith($(t).find(n)),$(".select2entity").select2entity(),$(".select2entity.submit-asynchronous").on("change",A)}})}function F(t){t.preventDefault();var e=$(this).find("i"),n=$(this).closest("[data-toggle]");console.log("block",n),console.log("selecteur",'.block-body, *[data-target="'+n.data("toggle")+'"]');var r=n.find('.block-body, *[data-target="'+n.data("toggle")+'"]');console.log("blockBody",r),r.toggleClass("down").toggleClass("up"),$('.down[data-target="'+n.data("toggle")+'"]').each((function(){$(this).is(r)||$(this).removeClass("down").addClass("up")}));var a=e.attr("class").replace(/up|down|fas|far|\s/g,"");e.toggleClass(a+"up").toggleClass(a+"down"),$("."+a+"up").each((function(){$(this).is(e)||$(this).removeClass(a+"up").addClass(a+"down")})),function(t,e,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var a="expires="+r.toUTCString();document.cookie=t+"="+e+"; "+a+"; path=/; url="+location.hostname}("admin_menu_actived",n.hasClass("nav-group")&&r.hasClass("down")?n.data("group"):null,30),console.log(document.cookie)}function N(t){$(this).closest("div.block").find("i").removeClass("fa-caret-square-up").addClass("fa-caret-square-down")}function D(t){$(this).closest("div.block").find("i").addClass("fa-caret-square-up").removeClass("fa-caret-square-down")}var T=function(t){var e=document.querySelector("#"+t.currentTarget.dataset.collectionHolderClass),n=e.closest(".collection_container"),r=n.dataset.prototype.replace(/__name__/g,n.dataset.index),a=document.createRange().createContextualFragment(r);e.appendChild(a),n.dataset.index++,O(e.lastChild)},O=function(t){var e=document.createElement("button");e.classList.add("btn","btn-xs","btn-danger","col-md-1"),e.innerHTML='<i class="fas fa-times"></i>',console.log("itemForm",t),console.log("itemForm",$(t)),$(t).append(e),e.addEventListener("click",(function(e){e.preventDefault(),t.remove()}))};var R=function(){document.querySelectorAll(".add_item_link").forEach((function(t){return t.addEventListener("click",T)}))},I=function(){document.querySelector("#bike_ride_bikeRideTypeChanged").value=1}},1302:(t,e,n)=>{"use strict";n.d(e,{i:()=>i,u:()=>o});n(9554),n(1539),n(4747),n(9720),n(9753),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(7658),n(7042),n(6647),n(3710),n(9714),n(8309),n(1038),n(4916),n(7601),n(1703);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o,i,c=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(t){l=!0,a=t}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var o=function(t){i(t.target)},i=function(t){var e=t.closest("form");Object.entries(e.elements).forEach((function(e){var n=r(e,2),a=(n[0],n[1]);"checkbox"!==a.type&&(t.checked?a.removeAttribute("disabled"):a.setAttribute("disabled",""))}))}},9822:(t,e,n)=>{function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o,i,c=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(t){l=!0,a=t}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(){var t=$(this).parent().parent().find("img, canvas, object"),e=r(this.files,1)[0];if(e){var n=URL.createObjectURL(e);t.each((function(){this.classList.add("hidden"),this instanceof HTMLImageElement&&e.type.includes("image")&&(this.src=n,this.classList.remove("hidden")),this instanceof HTMLCanvasElement&&e.type.includes("image")&&(this.dataset.src=n,this.classList.remove("hidden")),this instanceof HTMLObjectElement&&"application/pdf"===e.type&&(this.classList.remove("hidden"),this.data=n)}))}}function i(t){t.preventDefault();var e=$('input[type="file"]');return e.click(),e.on("change",(function(t){var e=t.target.value.split("\\").pop();$("#filename").text(e)})),!1}n(9826),n(1539),n(6992),n(8783),n(3948),n(285),n(1637),n(6699),n(2023),n(9753),n(2526),n(1817),n(2165),n(7658),n(7042),n(6647),n(3710),n(9714),n(8309),n(1038),n(4916),n(7601),n(1703),$(document).ready((function(){$(document).on("change",'input[type="file"]',o),$(document).on("click",".input-file-button",i)}))},7635:(t,e,n)=>{n(3710),jQuery((function(t){t.datepicker.regional.fr={closeText:"Fermer",prevText:"&#x3c;Préc",nextText:"Suiv&#x3e;",currentText:"Aujourd'hui",monthNames:["Janvier","Fevrier","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","Decembre"],monthNamesShort:["Jan","Fev","Mar","Avr","Mai","Jun","Jul","Aou","Sep","Oct","Nov","Dec"],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayNamesMin:["Di","Lu","Ma","Me","Je","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd/mm/yy",timeFormat:"HH:mm",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",minDate:"-12M +0D",maxDate:"+12M +0D",numberOfMonths:1,showButtonPanel:!1},t.datepicker.setDefaults(t.datepicker.regional.fr)})),$(document).ready((function(){$(".js-datepicker").each((function(){$(this).datepicker({format:"dd/mm/YYYY",maxDate:new Date($(this).data("max-date")),minDate:new Date($(this).data("min-date")),yearRange:$(this).data("year-range"),changeMonth:!0,changeYear:!0})}))}))},3616:(t,e,n)=>{function r(t){t.preventDefault(),a($(this).attr("href"),$(this).data("type"))}function a(t,e){$.ajax({url:t,type:"get",success:function(t,n,r){204!==r.status&&($(".modal").replaceWith($(t)),$(".modal").find(".modal-header").addClass("bg-"+e),$(".modal").find('button:not(button[data-dismiss="modal"])').addClass("btn-"+e),$(".js-datepicker").datepicker({format:"yyyy-mm-dd hh:ii"}),setTimeout((function(){$(".modal-dialog").addClass("modal-open")}),100))}})}function o(){$(".modal-dialog").removeClass("modal-open");var t=document.createElement("div");$(t).addClass("modal").attr("tabindex",-1),setTimeout((function(){$(".modal").replaceWith($(t))}),500)}n(9826),n(1539),n(2564),$((function(){var t,e,n;$("body").append('<div class="modal" tabindex="-1"></div>'),$(document).on("click",'a[data-toggle="modal"]',r),$(document).on("click",'button.close[data-dismiss="modal"]',o),console.log("modal window",document.querySelector("#modal_window_show")),document.querySelector("#modal_window_show")&&(t="#modal_window_show",e=$(t).attr("href"),n=$(t).data("type"),a(e,n))}))},5758:()=>{!function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var t=jQuery.fn.select2.amd;t.define("select2/i18n/fr",[],(function(){return{errorLoading:function(){return"Les résultats ne peuvent pas être chargés."},inputTooLong:function(t){var e=t.input.length-t.maximum;return"Supprimez "+e+" caractère"+(e>1?"s":"")},inputTooShort:function(t){var e=t.minimum-t.input.length;return"Saisissez au moins "+e+" caractère"+(e>1?"s":"")},loadingMore:function(){return"Chargement de résultats supplémentaires…"},maximumSelected:function(t){return"Vous pouvez seulement sélectionner "+t.maximum+" élément"+(t.maximum>1?"s":"")},noResults:function(){return"Aucun résultat trouvé"},searching:function(){return"Recherche en cours…"},removeAllItems:function(){return"Supprimer tous les éléments"},removeItem:function(){return"Supprimer l'élément"}}})),t.define,t.require}()}}]);