/*! For license information please see 615.9f6813b6.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[615],{5177:(e,t,n)=>{function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function r(e){e.preventDefault();var t=$(this).closest("form");console.log(t.attr("action"));var n=t.find("#user_search_user").val(),a=Routing.generate("admin_tool_confirm_delete_user",{user:n}),o=$('<a class="modal-trigger" href="'+a+'" data-toggle="modal" data-type="danger"></a>');t.append(o),console.log("anchor",o),o.click()}function i(e){var t=$(this).is(":checked"),n=$(this).parents("div.address-container");n.find(".address-group").toggleClass("hidden"),t?n.find(".identity-address").find("input").attr("required","required"):(n.find(".identity-address").find("input").removeAttr("required"),n.find(".identity-address").find("input").val(""))}function s(){$(this).closest("form").submit()}function c(e){e.preventDefault(),$("nav").toggleClass("nav-active"),$(".nav-bar .btn").toggleClass("nav-hide"),$("nav").hasClass("nav-active")?$("main").css("height",$("nav").height()):$("main").css("height","unset"),$(".block-body.down, .dropdown-toggle.down").each((function(){$(this).removeClass("down").addClass("up")})),$(".fa-angle-up").each((function(){$(this).removeClass("fa-angle-up").addClass("fa-angle-down")}))}function l(){$("ul.sortable").sortable({connectWith:".connectedSortable",helper:"clone",cursor:"move",zIndex:99999,items:"> li.ui-state-default",over:function(e,t){t.item.addClass("sortable-over")},start:function(e,t){t.item.data("old-order",t.item.index()),t.item.addClass("sortable-over")},update:function(e,t){!function(e){var t=e.data("id"),n=e.index(),a=$(e).closest("ul.sortable"),o={};o[a.data("parameter")]=t;var r=Routing.generate(a.data("route"),o),i={newOrder:n};$.ajax({url:r,type:"POST",data:i,success:function(e){e&&(a.replaceWith($(e).find('ul.sortable[data-target="'+a.data("target")+'"]')),l())}})}(t.item)}})}function u(e){e.preventDefault();var t,n=e.target.closest("form"),o=e.target.dataset.modifier,r=e.target.dataset.addToFetch,i=new FormData(n,e.submitter),s=a(i);try{for(s.s();!(t=s.n()).done;){var c=t.value;c[0].endsWith("[_token]")&&i.set(c[0],"")}}catch(e){s.e(e)}finally{s.f()}"button"===e.target.type&&i.append(e.target.name,1),void 0!==r&&i.append("".concat(n.name,"[").concat(r,"]"),e.target.dataset[r]);var l=n.getAttribute("action")?n.getAttribute("action"):window.location.href;fetch(l,{method:n.getAttribute("method"),body:i}).then((function(e){return e.text()})).then((function(e){var t=document.createRange().createContextualFragment(e),n=document.getElementById(o);n.replaceWith(t.getElementById(o)),$(".select2entity").select2entity(),$(".customSelect2").select2(),$(".js-datepicker").datepicker({format:"yyyy-mm-dd hh:ii"}),C(),n.querySelectorAll(".form-modifier").forEach((function(e){e.addEventListener("change",u)}))}))}function d(e){e.preventDefault();var t={};t.cluster=$(this).data("cluster-id");var n=Routing.generate("admin_cluster_complete",t);$.ajax({url:n,success:function(e){$("#sessions_container").replaceWith($(e).find("#sessions_container")),0<$("a#cluster_export_"+t.cluster).length&&$("a#cluster_export_"+t.cluster)[0].click()}})}function m(e){e.preventDefault(),$.ajax({url:$(this).attr("href"),success:function(e){$("#sessions_container").replaceWith($(e).find("#sessions_container"))}})}function f(e){e.preventDefault();var t=$(this).closest("form"),n={};n[$(this).attr("name")]=$(this).val(),n[$(this).parent().data("lineName")]=$(this).parent().data("lineId"),$.ajax({url:t.attr("action"),type:t.attr("method"),data:n,success:function(e){$("#order").replaceWith($(e).find("#order"))}})}function h(e){e.preventDefault();var t=$(this).attr("href"),n=["#"+$(this).closest("ul").attr("id"),".wrapper-title .badge.badge-info","nav.paginator.margin-top","nav.paginator.margin-bottom","nav.paginator.margin-both"];$.ajax({url:t,success:function(e){n.forEach((function(t){$(t)&&$(t).replaceWith($(e).find(t))}))}})}function p(e){e.preventDefault(),console.log("submitAsynchronous");var t=$(this).closest("form"),n='form[name="'+t.attr("name")+'"]';({})[$(this).attr("name")]=$(this).val(),$(".select2entity.submit-asynchronous").off("change",p),$.ajax({url:t.attr("action"),type:t.attr("method"),data:t.serialize(),success:function(e){$(n).replaceWith($(e).find(n)),$(".select2entity").select2entity(),$(".select2entity.submit-asynchronous").on("change",p)}})}function g(e){e.preventDefault();var t=$(this).find("i"),n=$(this).closest("[data-toggle]");console.log("block",n),console.log("selecteur",'.block-body, *[data-target="'+n.data("toggle")+'"]');var a=n.find('.block-body, *[data-target="'+n.data("toggle")+'"]');console.log("blockBody",a),a.toggleClass("down").toggleClass("up"),$('.down[data-target="'+n.data("toggle")+'"]').each((function(){$(this).is(a)||$(this).removeClass("down").addClass("up")}));var o=t.attr("class").replace(/up|down|fas|far|\s/g,"");t.toggleClass(o+"up").toggleClass(o+"down"),$("."+o+"up").each((function(){$(this).is(t)||$(this).removeClass(o+"up").addClass(o+"down")})),function(e,t,n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var o="expires="+a.toUTCString();document.cookie=e+"="+t+"; "+o+"; path=/; url="+location.hostname}("admin_menu_actived",n.hasClass("nav-group")&&a.hasClass("down")?n.data("group"):null,30),console.log(document.cookie)}function v(e){$(this).closest("div.block").find("i").removeClass("fa-caret-square-up").addClass("fa-caret-square-down")}function y(e){$(this).closest("div.block").find("i").addClass("fa-caret-square-up").removeClass("fa-caret-square-down")}n(1058),n(4916),n(5306),n(9554),n(1539),n(4747),n(9826),n(8309),n(2222),n(8674),n(7852),n(3710),n(4678),n(7042),n(6647),n(9714),n(1038),n(8783),n(7601),n(2526),n(1817),n(2165),n(6992),n(3948),n(9753),n(1703),document.addEventListener("DOMContentLoaded",(function(e){if($("ul.StepProgress").length>0){var t=parseInt($("ul.StepProgress").css("margin-top").replace("px","")),n=$("ul.StepProgress").offset().top-100,a=t;$(window).scroll((function(){a=$(window).scrollTop()>=n?$(window).scrollTop()-200:t,$("ul.StepProgress").css("margin-top",a+"px")}))}$(window).scroll((function(){$(window).scrollTop()>150?($("nav:not(.paginator)").addClass("fixed"),$("nav:not(.paginator) img").removeClass("hidden")):($("nav:not(.paginator)").removeClass("fixed"),$("nav:not(.paginator) img").addClass("hidden"))})),$(".sortable").length>0&&l(),$(document).on("change",".identity-other-address",i),$(document).on("change",".filters .customSelect2, .filters select, .filters .btn",s),$(document).on("click",".nav-bar .btn",c),$(document).on("change",".form-modifier",u),$(document).on("click","button.form-modifier",u),$(document).on("click",".admin-session-present",m),$(document).on("click",".orderline-quantity, .orderline-remove",f),$(document).on("click",".cluster-complete",d),$(document).on("click",".order-status, .delete-error",h),$(".select2entity.submit-asynchronous").on("change",p),$(document).on("click",'*[data-action="toggle-down"]',g),window.matchMedia("(min-width: 800px)").matches&&($(document).on("mouseenter",".block-flash .block-title, .block-flash .block-body",y),$(document).on("mouseleave",".block-flash .block-title, .block-flash .block-body",v)),C(),document.querySelectorAll(".collection_container .form-group-collection:not(.not-deleted)").forEach((function(e){$(e).find("input:disabled").length<1&&w(e)})),document.querySelectorAll("object.sizing").forEach((function(e){return function(e){var t=e.parentNode,n=getComputedStyle(t),a=t.clientWidth-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight);e.width=a,e.height=t.dataset.ratio*a}(e)})),$(".customSelect2").length>0&&$(".customSelect2").select2(),$(document).on("customSelect2:open",(function(e){var t=e.target.id;document.querySelector('.select2-search__field[aria-controls="customSelect2-'+t+'-results"]').focus()})),$(document).on("click","#user_search_submit",r),document.querySelector("select#bike_ride_bikeRideType")&&document.querySelector("select#bike_ride_bikeRideType").addEventListener("change",k)}));var b=function(e){var t=document.querySelector("#"+e.currentTarget.dataset.collectionHolderClass),n=t.closest(".collection_container"),a=n.dataset.prototype.replace(/__name__/g,n.dataset.index),o=document.createRange().createContextualFragment(a);t.appendChild(o),n.dataset.index++,w(t.lastChild)},w=function(e){var t=document.createElement("button");t.classList.add("btn","btn-xs","btn-danger","col-md-1"),t.innerHTML='<i class="fas fa-times"></i>',console.log("itemForm",e),console.log("itemForm",$(e)),$(e).append(t),t.addEventListener("click",(function(t){t.preventDefault(),e.remove()}))};var C=function(){document.querySelectorAll(".add_item_link").forEach((function(e){return e.addEventListener("click",b)}))},k=function(){document.querySelector("#bike_ride_bikeRideTypeChanged").value=1}},8203:(e,t,n)=>{var a;function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;$("[data-constraint]").each((function(t,n){return e&&a<t&&(a=t),!(a<t)&&($(this).parent().hasClass("hidden")||function(e){var t={},n=$(e);if(t.constraint=n.data("constraint"),t.required=n.attr("required"),t.current=r(n.attr("name")),n.data("multiple-fields")){var a={};$('[data-constraint="'+n.data("constraint")+'"]').each((function(){a[r(this.name)]=this.value})),t.values=a}else t.value=n.val();$.ajax({url:Routing.generate("form_validator"),type:"POST",data:t,success:function(e){var t=n.prev("ul.errors");0===t.length?$(e.html).insertBefore(n):!0===e.multiple?$('[data-constraint="'+n.data("constraint")+'"]').prev("ul.errors").replaceWith($(e.html)):t.replaceWith($(e.html)),n.is(":disabled")||("SUCCESS"===e.status?!0===e.multiple?$('[data-constraint="'+n.data("constraint")+'"]').parent().removeClass("alert-warning").addClass("success"):n.parent().removeClass("alert-warning").addClass("success"):"ALERT_WARNING"===e.status?n.parent().removeClass("success").addClass("alert-warning"):n.parent().removeClass("success").removeClass("alert-warning"))}})}(this),this.name!==e&&void 0)}))}function r(e){var t=new RegExp(/^[0-9A-Za-z\[\]-]+\[([0-9A-Za-z-]+)\]$/,"i"),n=e.match(t);return null!==n?n[1]:e}n(8309),n(7658),n(1539),n(4603),n(8450),n(4916),n(8386),n(9714),n(4723),$(document).ready((function(){var e;e=[],$("[data-constraint]").each((function(t,n){""===this.value||$(this).parent().hasClass("hidden")||e.push(t)})),a=0<e.length?e.pop():-1,console.log("lastFied",a),o(),$(document).on("blur","[data-constraint]",(function(){o(this.name)})),$(document).on("change",'[data-constraint="app-BirthDate"], .select2entity',(function(){o(this.name)}))}))},9822:(e,t,n)=>{function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,o,r,i,s=[],c=!0,l=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=r.call(n)).done)&&(s.push(a.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function r(){var e=$(this).parent().parent().find("img, canvas, object"),t=a(this.files,1)[0];if(t){var n=URL.createObjectURL(t);e.each((function(){this.classList.add("hidden"),this instanceof HTMLImageElement&&t.type.includes("image")&&(this.src=n,this.classList.remove("hidden")),this instanceof HTMLCanvasElement&&t.type.includes("image")&&(this.dataset.src=n,this.classList.remove("hidden")),this instanceof HTMLObjectElement&&"application/pdf"===t.type&&(this.classList.remove("hidden"),this.data=n)}))}}function i(e){e.preventDefault();var t=$('input[type="file"]');return t.click(),t.on("change",(function(e){var t=e.target.value.split("\\").pop();$("#filename").text(t)})),!1}n(9826),n(1539),n(6992),n(8783),n(3948),n(285),n(1637),n(6699),n(2023),n(9753),n(2526),n(1817),n(2165),n(7658),n(7042),n(6647),n(3710),n(9714),n(8309),n(1038),n(4916),n(7601),n(1703),$(document).ready((function(){$(document).on("change",'input[type="file"]',r),$(document).on("click",".input-file-button",i)}))},3616:(e,t,n)=>{function a(e){e.preventDefault(),o($(this).attr("href"),$(this).data("type"))}function o(e,t){$.ajax({url:e,type:"get",success:function(e,n,a){204!==a.status&&($(".modal").replaceWith($(e)),$(".modal").find(".modal-header").addClass("bg-"+t),$(".modal").find('button:not(button[data-dismiss="modal"])').addClass("btn-"+t),$(".js-datepicker").datepicker({format:"yyyy-mm-dd hh:ii"}),setTimeout((function(){$(".modal-dialog").addClass("modal-open")}),100))}})}function r(){$(".modal-dialog").removeClass("modal-open");var e=document.createElement("div");$(e).addClass("modal").attr("tabindex",-1),setTimeout((function(){$(".modal").replaceWith($(e))}),500)}n(9826),n(1539),n(2564),$((function(){var e,t,n;$("body").append('<div class="modal" tabindex="-1"></div>'),$(document).on("click",'a[data-toggle="modal"]',a),$(document).on("click",'button.close[data-dismiss="modal"]',r),console.log("modal window",document.querySelector("#modal_window_show")),document.querySelector("#modal_window_show")&&(e="#modal_window_show",t=$(e).attr("href"),n=$(e).data("type"),o(t,n))}))},5758:()=>{!function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var e=jQuery.fn.select2.amd;e.define("select2/i18n/fr",[],(function(){return{errorLoading:function(){return"Les résultats ne peuvent pas être chargés."},inputTooLong:function(e){var t=e.input.length-e.maximum;return"Supprimez "+t+" caractère"+(t>1?"s":"")},inputTooShort:function(e){var t=e.minimum-e.input.length;return"Saisissez au moins "+t+" caractère"+(t>1?"s":"")},loadingMore:function(){return"Chargement de résultats supplémentaires…"},maximumSelected:function(e){return"Vous pouvez seulement sélectionner "+e.maximum+" élément"+(e.maximum>1?"s":"")},noResults:function(){return"Aucun résultat trouvé"},searching:function(){return"Recherche en cours…"},removeAllItems:function(){return"Supprimer tous les éléments"},removeItem:function(){return"Supprimer l'élément"}}})),e.define,e.require}()}}]);